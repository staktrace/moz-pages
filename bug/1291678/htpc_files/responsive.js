var Responsive=(function(){var currentDeviceGrade='',gradeConfig=[],initialized=false,bootstrapped=false,behaviours=[],initGradeConfig=function(){var stylesheets=Selector('link[rel=stylesheet]'),i=stylesheets.length,m;while(i--)if((m=stylesheets[i].href.match(/responsive_(\w)\.css/)))gradeConfig.push({grade:m[1].toUpperCase(),media:stylesheets[i].media})},getDeviceGrade=function(){if(window.matchMedia)return getDeviceGradeByMediaQuery();if(document.body)return getDeviceGradeByElement();return'A'},getDeviceGradeByMediaQuery=function(){var i=0,gc;if(!currentDeviceGrade)initGradeConfig();while((gc=gradeConfig[i++]))if(window.matchMedia(gc.media).matches)return gc.grade;return'A'},getDeviceGradeByElement=function(){var gradeElement=getById('devicegrade');if(!gradeElement){gradeElement=document.createElement('div');gradeElement.id='devicegrade';gradeElement.style.cssText='position:absolute;top:-100px';document.body.appendChild(gradeElement)};switch(gradeElement.offsetWidth){case 30:return'D';case 20:return'C';case 10:return'B'};return'A'},pollOrientationChange=function(){var oldGrade=currentDeviceGrade;currentDeviceGrade=getDeviceGrade();if(currentDeviceGrade!=oldGrade)deviceGradeChangeHandler({from:oldGrade,to:currentDeviceGrade})},deviceGradeChangeHandler=function(e){if(!initialized){Responsive.init();return};var i=0,behaviour;while((behaviour=behaviours[i++]))behaviour.update(e)};return{bootstrap:function(){if(bootstrapped)return;currentDeviceGrade=getDeviceGrade();addEvent(window,'resize',pollOrientationChange);DomLoaded.load(pollOrientationChange,true);Responsive.init();bootstrapped=true},isBootStrapped:function(){return bootstrapped},init:function(){if(initialized||currentDeviceGrade<'B')return;var behaviour,i=0;while((behaviour=behaviours[i++]))behaviour.init();initialized=true},addBehaviour:function(behaviourObject){if(behaviourObject)behaviours.push(behaviourObject)},getCurrentDeviceGrade:function(){return(currentDeviceGrade=currentDeviceGrade||getDeviceGrade())},getDevicePixelRatio:function(){return window.devicePixelRatio||1},generateDropDownList:function(el,activeCheck,selectText,preserveTabs){if(!el||hasClass(el,'responsiveDropDownList'))return;var dropdown=document.createElement('select'),links=Selector('a',el),link,i=0,j=0;if(links.length<=1)return;dropdown.className='text';dropdown.style.display='none';if(selectText)dropdown.options[j++]=new Option(selectText,'');while((link=links[i++])){if(hasClass(link.parentNode,'addContent'))continue;if(!link.href)continue;dropdown.options[j]=new Option(link.textContent||link.innerText,link.href);if(activeCheck&&activeCheck(link)){dropdown.selectedIndex=j;if(preserveTabs&&currentDeviceGrade=="C"&&j>=4||preserveTabs&&currentDeviceGrade=="D"&&j>=3)addClass(dropdown,'active')};j++};dropdown.onchange=function(){var url=this.options[this.selectedIndex].value;if(url)window.location=url};if((preserveTabs&&currentDeviceGrade=="C"&&j>4||preserveTabs&&currentDeviceGrade=="D"&&j>3)||!preserveTabs){el.appendChild(dropdown);addClass(el,'responsiveDropDownList');addClass(el,preserveTabs?'preserveTabs':'noTabs')}},pinToDesktop:function(platform,browser){var arrowPosition,description='';switch(platform){case'ios':default:arrowPosition='bottom';description='Voeg Tweakers toe aan je beginscherm';break};PopupGenerator.register('pinToDesktopPopup',{arrow:arrowPosition,offsetElement:layout,className:platform+' '+browser,setPosition:function(){},onClose:function(){setCookie('showPinToDesktop',0)}});var content=HTMLBuilder().built({n:'div',c:[{n:'h3',t:'Sneller naar Tweakers?'},{n:'p',t:description}]}),popup=PopupGenerator.get('pinToDesktopPopup');popup.setContent(content);popup.show(popup)},scrollTo:function(selector){if(currentDeviceGrade<'C')return;var el=Selector(selector)[0];if(el)el.scrollIntoView()},getBanner:function(type){var banner=window.BannerManager&&BannerManager.getDestinationForType(type);if(banner&&Selector('iframe',banner).count>0){banner.style.display='none';return null};return banner}}})();Responsive.addBehaviour((function(){var clickBusterActive=false,preventClickAfterTouch=function(e){if(!clickBusterActive)return;if(e){e.stopPropagation();e.preventDefault()};clearTimeout(clickBusterActive);clickBusterActive=false},clickBuster=function(e){if(e&&e.type.contains('touch')){e.preventDefault();clearTimeout(clickBusterActive);clickBusterActive=setTimeout(preventClickAfterTouch,500)}},toggleLeftSideBar=null,closeLeftSideBar=function(){if(hasClass(document.body,'leftSidebar')&&toggleLeftSideBar)toggleLeftSideBar()},createLeftSidebar=function(grade){var leftSidebarToggle=Selector('.leftSidebarToggle')[0];if(!leftSidebarToggle)return;var leftSidebar=document.createElement('div');leftSidebar.id='leftSidebar';leftSidebar.className='site-sidebar';var contentContainer=HTMLBuilder().built({n:'div',a:{className:'sidebarContent'}});leftSidebar.appendChild(contentContainer);var buttonsContainer=HTMLBuilder().built({n:'ul',a:{className:'toggleButtons'}});leftSidebar.appendChild(buttonsContainer);buttonsContainer.appendChild(HTMLBuilder().built({n:'li',a:{id:'navigationButton',className:'toggleButton',onclick:function(){toggleButton(0)}},t:'Navigatie'}));buttonsContainer.appendChild(HTMLBuilder().built({n:'li',a:{id:'trackerButton',className:'toggleButton',onclick:function(){toggleButton(1)}},t:'Tracker'}));var menuClone=getById('navMenu').cloneNode(true);menuClone.id='leftSidebarMenu';contentContainer.appendChild(menuClone);contentContainer.appendChild(HTMLBuilder().built({n:'div',a:{id:'leftSidebarTracker'}}));var layout=getById('layout');layout.parentNode.insertBefore(leftSidebar,layout);var toggleButton=function(i){addClass(buttonsContainer.childNodes[i],'active');addClass(contentContainer.childNodes[i],'active');removeClass(buttonsContainer.childNodes[1-i],'active');removeClass(contentContainer.childNodes[1-i],'active');toggleTrackerVisibility(i==1)};toggleLeftSideBar=function(e){if(clickBuster(e))return;closeRightSideBar();toggleButton(Responsive.getCurrentDeviceGrade()=='B'?1:0);toggleClass(leftSidebarToggle,'active');toggleClass(document.body,'leftSidebar');addSidebarHideBehaviour('leftSidebar',toggleLeftSideBar);window.scrollTo(0,0)};Selector('.more',leftSidebar).forEach(function(el){el.onclick=function(){toggleClass(this,'show')}});addEvent(leftSidebarToggle,'click',toggleLeftSideBar);addEvent(leftSidebarToggle,'touchstart',toggleLeftSideBar)},toggleRightSideBar=null,closeRightSideBar=function(){if(hasClass(document.body,'rightSidebar')&&toggleRightSideBar)toggleRightSideBar()},createRightSidebar=function(grade){var rightSidebarToggle=Selector('.rightSidebarToggle')[0];if(!rightSidebarToggle)return;var rightSidebar=document.createElement('div');rightSidebar.id='rightSidebar';rightSidebar.className='site-sidebar';var contentContainer=HTMLBuilder().built({n:'div',a:{className:'sidebarContent'}});rightSidebar.appendChild(contentContainer);var menuClone=getById('userbar').cloneNode(true);menuClone.id='rightSidebarMenu';menuClone.className='profileNavigationActive';contentContainer.appendChild(menuClone);var userName=Selector('.username',menuClone)[0];if(userName)addClass(userName,'ellipsis');var searchIcon=Selector('.search',menuClone)[0];if(searchIcon)searchIcon.parentNode.removeChild(searchIcon);var profileMenu=Selector('.profileNavigation',menuClone)[0];if(profileMenu){var li=document.createElement('li');li.id='rightMenuPane';li.appendChild(profileMenu);menuClone.appendChild(li);Selector('.more',profileMenu).forEach(function(el){el.onclick=function(){toggleClass(this,'show')}})};if(Responsive.isBootStrapped())BehaviourManager.exec(rightSidebar);var layout=getById('layout');layout.parentNode.insertBefore(rightSidebar,layout);if(Responsive.isBootStrapped()&&window.compareStorage)compareStorage.init();toggleRightSideBar=function(e){if(clickBuster(e))return;closeLeftSideBar();toggleClass(rightSidebarToggle,'active');toggleClass(document.body,'rightSidebar');addSidebarHideBehaviour('rightSidebar',toggleRightSideBar);window.scrollTo(0,0)};addEvent(rightSidebarToggle,'click',toggleRightSideBar);addEvent(rightSidebarToggle,'touchstart',toggleRightSideBar)},addSidebarHideBehaviour=function(sidebarName,toggleFunc){var sidebarIsOpen=hasClass(document.body,sidebarName);['#contentArea','#userbar'].forEach(function(sel){var el=Selector(sel)[0];if(!el)return;if(sidebarIsOpen){addEvent(el,'click',toggleFunc)}else removeEvent(el,'click',toggleFunc)});if(sidebarName=='leftSidebar'&&!sidebarIsOpen)toggleTrackerVisibility(false)},setViewportBehaviour=function(grade){var viewportMeta=Selector('meta[name=viewport]')[0];if(viewportMeta)viewportMeta.setAttribute('content','width=device-width'+(grade>='C'?', initial-scale=1':''))},createResponsiveSearch=function(){var searchPopupButton=getById('searchPopupButton');PopupGenerator.register('searchPopup',{afterInit:function(popup){popup.element=getById('searchbar');popup.show=function(){PopupGenerator.closeAll({target:this.element,initiator:'searchPopup'});addClass(searchPopupButton.parentNode,'selected');addClass(this.element,'showSearch');this.visible=true;var input=Selector('input.text',this.element)[0];if(input)input.focus()};popup.close=function(forceClose,event){removeClass(searchPopupButton.parentNode,'selected');removeClass(this.element,'showSearch');this.visible=false;return true}},setPosition:function(){}});addEvent(searchPopupButton,'click',function(e){var popup=PopupGenerator.get('searchPopup');if(popup.visible){popup.close()}else popup.show();e.stopPropagation()});if(window.mainSearchSuggest)window.mainSearchSuggest.addExecutionCallback(function(){return Responsive.getCurrentDeviceGrade()<'C'})},moveResponsivePortalSearch=function(grade){var portalSearch=getById('responsivePortalSearch'),search=getById('search');if(!(portalSearch&&search))return;var clonedSearch=portalSearch.firstChild;if(grade<'C'){if(clonedSearch)portalSearch.removeChild(clonedSearch)}else if(!clonedSearch){clonedSearch=search.cloneNode(true);portalSearch.appendChild(clonedSearch)}},moveRectangleBanner=function(grade){var advertisement=Responsive.getBanner('re');if(!advertisement)return;var placeholder=getById('b_re_pos'),articleColumn=Selector('.articleColumn')[0];if(grade=='A'||(grade=='B'&&!articleColumn&&!hasClass(advertisement,'pwPortal'))){if(placeholder)placeholder.parentNode.replaceChild(advertisement,placeholder);return};if(!placeholder){var column=advertisement.parentNode;placeholder=document.createElement('div');placeholder.id='b_re_pos';column.replaceChild(placeholder,advertisement);if(hasClass(column,'left')){column.parentNode.insertBefore(advertisement,column.nextSibling)}else if(articleColumn){articleColumn.parentNode.insertBefore(advertisement,articleColumn.nextSibling)}else column.parentNode.insertBefore(advertisement,column)}},fixNotificationPopupDomPosition=function(popup,offsetElement){var parent=document.body,menu;if(Responsive.getCurrentDeviceGrade()=='D'){menu=getById('rightMenuPane');if(menu&&menu.parentNode.contains(offsetElement))parent=menu};if(popup.element.parentNode!=parent)parent.appendChild(popup.element)},setNotificationPopupActive=function(){if(Responsive.getCurrentDeviceGrade()=='D'){var menu=getById('rightSidebarMenu');if(menu){removeClass(menu,'profileNavigationActive');addClass(menu,this.responsiveSidebarClass)}}},setNotificationPopupInActive=function(){if(Responsive.getCurrentDeviceGrade()=='D'){var menu=getById('rightSidebarMenu');if(menu){removeClass(menu,this.responsiveSidebarClass);addClass(menu,'profileNavigationActive')}}},trackerDefaultVisible=null,trackerDefaultFixed=null,fixTrackerDomPosition=function(grade){if(!(window.Tracker&&window.Tracker.tracker))return;var parent=grade=='A'?document.body:getById('leftSidebarTracker'),fullScreenMode=hasClass(getById('layout'),'fullScreen');if(parent&&Tracker.tracker.parentNode!=parent){parent.appendChild(Tracker.tracker);if(grade!='A'){if(hasClass(document.body,'hasTracker')){trackerDefaultVisible=Tracker.isVisible();trackerDefaultFixed=Tracker.isFixed()}else{trackerDefaultVisible=Tracker.initialOptions.visible&&!fullScreenMode;trackerDefaultFixed=Tracker.fixedSupport&&Tracker.initialOptions.fixed};if(trackerDefaultFixed){addClass(document.body,'trackerScroll');Tracker.scrollHandler()};toggleTrackerVisibility(false)}else{if(trackerDefaultFixed)removeClass(document.body,'trackerScroll');if(fullScreenMode)removeClass(document.body,'hasTracker');toggleTrackerVisibility(trackerDefaultVisible)}}},toggleTrackerVisibility=function(show){if(!(window.Tracker&&window.Tracker.tracker))return;Tracker.tracker.style.display=show?'':'none';if(show){addClass(document.body,'trackerVisible');Tracker.scrollHandler();Tracker.refresh()}else removeClass(document.body,'trackerVisible')},actualDensitySetting='',updateDensityStyleSetting=function(grade){if(!window.DisplayOptions)return;if(grade<'B'){if(actualDensitySetting){DisplayOptions.setDensity(actualDensitySetting);actualDensitySetting=''}}else{var originalDensitySetting=DisplayOptions.setDensity('normal');if(!actualDensitySetting)actualDensitySetting=originalDensitySetting}},toggleFixedHeader=function(grade){if(!window.FixedHeader)return;if(grade<'C'){FixedHeader.remove()}else FixedHeader.init()},createPageTabDropDown=function(){Responsive.generateDropDownList(Selector('.pageTabs')[0],function(el){return hasClass(el.parentNode,'active')},null,true)};return{init:function(){var currentDeviceGrade=Responsive.getCurrentDeviceGrade();document.body.addEventListener('click',preventClickAfterTouch,true);createLeftSidebar(currentDeviceGrade);createRightSidebar(currentDeviceGrade);this.update({from:'A',to:currentDeviceGrade});createPageTabDropDown();if(window.PopupGenerator){var notificationPopup,popupTypes=['userNotifications','dmNotifications','selectedProducts'],popupType,i=0;while((popupType=popupTypes[i++]))if((notificationPopup=PopupGenerator.exists(popupType+'Popup'))){notificationPopup.responsiveSidebarClass=popupType+'Active';overload(notificationPopup,'beforeShow',fixNotificationPopupDomPosition);overload(notificationPopup,'afterShow',setNotificationPopupActive);overload(notificationPopup,'onClose',setNotificationPopupInActive)}};createResponsiveSearch()},update:function(e){setViewportBehaviour(e.to);fixTrackerDomPosition(e.to);updateDensityStyleSetting(e.to);toggleFixedHeader(e.to);if(window.PopupGenerator){PopupGenerator.setPreventFollowLinksOnClose(e.to!='A');PopupGenerator.setDisableHoverPopups(e.to!='A')};moveResponsivePortalSearch(e.to);moveRectangleBanner(e.to);closeLeftSideBar();closeRightSideBar();ScrollArrows(e.to);createPageTabDropDown()}}}()));var ScrollArrows=(function(){var arrowElement,currentpageYOffset=0,scrollTimer,scrollTimeOut=2e3,getPageYOffset=function(){return window.pageYOffset||document.documentElement.scrollTop},clickFunction=function(e){var scrollToElement=getById(hasClass(this,'top')?'menuwrapper':'bottom');if(scrollToElement){e.preventDefault();e.stopPropagation();scrollToElement.scrollIntoView();setTimeout(checkScroll,100);return false}},hideArrow=function(){removeClass(arrowElement,'show')},showArrow=function(){addClass(arrowElement,'show')},checkScroll=function(){clearTimeout(scrollTimer);scrollTimer=setTimeout(hideArrow,scrollTimeOut);var pageYOffset=getPageYOffset(),minTopPosition=getById('menubar').offsetHeight,maxBottomPosition=getById('bottom').offsetTop-document.documentElement.clientHeight;if(pageYOffset>minTopPosition&&pageYOffset<maxBottomPosition){if(currentpageYOffset>pageYOffset){addClass(arrowElement,'top')}else if(currentpageYOffset<pageYOffset)removeClass(arrowElement,'top');showArrow()}else hideArrow();currentpageYOffset=pageYOffset};return function(grade){var layout=getById('layout');if(!layout)return;if(grade<'A'){if(arrowElement&&arrowElement.parentNode){arrowElement.parentNode.removeChild(arrowElement);removeEvent(window,'scroll',checkScroll)};return};if(!arrowElement){arrowElement=document.createElement('div');arrowElement.className='scrollTo';addEvent(arrowElement,'mousedown',clickFunction,true)};layout.appendChild(arrowElement);addEvent(window,'scroll',checkScroll);currentpageYOffset=getPageYOffset();checkScroll()}}())
function overload(obj,method,func){var originalFunc=obj[method];obj[method]=originalFunc?function(){originalFunc.apply(obj,arguments);func.apply(obj,arguments)}:func}