var preloadImages={},keyCodes={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,CAPSLOCK:20,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};if(!Array.isArray)Array.isArray=(function(){var f={}.toString,t=f.call([]);return function(arg){return f.call(arg)==t}})();var jsConfig=(function(defaultConfig){if(!(defaultConfig&&typeof defaultConfig=='object'))defaultConfig={};var searchDeep=function(configSection,properties,create){if(properties.length<2)return configSection;var prop=properties.shift();if(!(prop in configSection)){if(!create)return null;configSection[prop]={}};return searchDeep(configSection[prop],properties,create)};return{get:function(property,defaultValue){var configSection=defaultConfig;if(Array.isArray(property)){configSection=searchDeep(configSection,property);property=property.pop()};return configSection&&property in configSection?configSection[property]:defaultValue},set:function(property,value){var configSection=defaultConfig;if(Array.isArray(property)){configSection=searchDeep(configSection,property,true);property=property.pop()};if(!(configSection&&typeof configSection=='object'))return false;configSection[property]=value;return true}}})(window.tweakersConfig);if(!jsConfig.get('ImgURL'))jsConfig.set('ImgURL','');Object.extend=function(dest,source,allowOverwrite){for(var prop in source)if(source.hasOwnProperty(prop)&&(allowOverwrite||!dest.hasOwnProperty(prop)))dest[prop]=source[prop];return dest};Object.isEmpty=function(obj){for(var i in obj)return false;return true};Object.extend(Array.prototype,{indexOf:function(value,index){var l=this.length,i=index||0;if(i<0){i+=l;if(i<0)i=0};while(i<l){if(this[i]===value)return i;i++};return-1},contains:function(value){return this.indexOf(value)>-1},forEach:function(func,obj){for(var i=0,l=this.length;i<l;i++)if(i in this)func.call(obj,this[i],i,this)},filter:function(func,obj){var res=[],val;for(var i=0,l=this.length;i<l;i++)if(i in this){val=this[i];if(func.call(obj,val,i,this))res.push(val)};return res}});['forEach','filter','slice'].forEach(function(func){if(!(func in Array))Array[func]=function(obj){return this.prototype[func].apply(obj,Array.prototype.slice.call(arguments,1))}});if(!Date.now)Date.now=function(){return+(new Date())};Object.extend(String.prototype,{contains:function(str,index){return this.indexOf(str,index)>-1},startsWith:function(str){return this.lastIndexOf(str,0)==0},trim:function(){return this.replace(/^\s+|\s+$/g,'')},isWhiteSpace:function(){return!/[^\s]/.test(this)},ucFirst:function(){return this.charAt(0).toUpperCase()+this.substr(1)},wordCount:function(){return(this.trim().match(/\S+/g)||'').length},escapeHtml:function(){var escapeChars={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'};return this.replace(/[&<>"]/g,function(c){return escapeChars[c]})},normalizeDiacritics:function(){var diacritics={192:'A',193:'A',194:'A',195:'A',196:'A',197:'A',198:'A',224:'a',225:'a',226:'a',227:'a',228:'a',229:'a',230:'a',200:'E',201:'E',202:'E',203:'E',232:'e',233:'e',234:'e',235:'e',204:'I',205:'I',206:'I',207:'I',236:'i',237:'i',238:'i',239:'i',210:'O',211:'O',212:'O',213:'O',214:'O',216:'O',242:'o',243:'o',244:'o',245:'o',246:'o',248:'o',217:'U',218:'U',219:'U',220:'U',249:'u',250:'u',251:'u',252:'u',209:'N',241:'n',199:'C',231:'c',221:'Y',253:'y'};return this.replace(/[\300-\377]/g,function(c){return diacritics[c.charCodeAt(0)]||c})},escapeJs:function(){return this.replace(/([\0\n\r\t\\'\/])/g,'\\$1')},fixProtocol:function(){return this.replace(/^(http:)?\/\//,location.protocol+'//')}});Object.extend(Function.prototype,{bind:function(obj){var fn=this,args;if(arguments.length>1){args=Array.slice(arguments,1);return function(){return arguments.length?fn.apply(obj,args.concat(Array.slice(arguments))):fn.apply(obj,args)}};return function(){return arguments.length?fn.apply(obj,arguments):fn.call(obj)}},append:function(func){var originalFunc=this;return function(){originalFunc.apply(this,arguments);func.apply(this,arguments)}}});RegExp.escape=function(string){return string.replace(/([.*+?^${}()|[\]\/\\])/g,'\\$1')}
function Set(){var set={},i=arguments.length;while(i--)set[arguments[i]]=1;return set};var Browser=(function(){var dum='dummy',dummyElement=document.createElement('div'),pfx='Webkit Moz O ms',cssPfx=pfx.split(' '),domPfx=pfx.toLowerCase().split(' '),is=(function(u){var o={ie:/msie|trident/.test(u),opera:!!window.opera,khtml:/khtml/.test(u),webkit:/applewebkit/.test(u),mac:/macintosh/.test(u),mobile:/ip(hone|[ao]d)|android|windows (ce|phone)|blackberry|mobi/.test(u)};if(o.mac&&o.webkit)window.focus=function(){};return o}(navigator.userAgent.toLowerCase())),input=(function(){var input=document.createElement('input'),result={};['autofocus','placeholder','multiple'].forEach(function(prop){result[prop]=!!(prop in input)});return result}()),prefixed=function(property,element){var ucProp=property.ucFirst(),testProps=(property+' '+(element?domPfx:cssPfx).join(ucProp+' ')+ucProp).split(' '),i=0;if(!element){element=dummyElement.style}else if(element===true)element=dummyElement;while((property=testProps[i++]))if(element[property]!==undefined)return property;return false},supports=function(feature){if(feature in tests){if(!(feature in results))results[feature]=tests[feature]();return results[feature]};return null},hasEvent=function(eventName,element){element=element||dummyElement,eventName='on'+eventName;var isSupported=eventName in element;if(!isSupported){if(eventName=='onwheel')return Browser.is.ie&&document.documentMode>=9;if(element.setAttribute&&element.removeAttribute){element.setAttribute(eventName,'');isSupported=typeof element[eventName]=='function';element.removeAttribute(eventName)}};return isSupported},results={},tests={localStorage:function(){try{localStorage.setItem(dum,dum);localStorage.removeItem(dum);return true}catch(e){};return false},sessionStorage:function(){try{sessionStorage.setItem(dum,dum);sessionStorage.removeItem(dum);return true}catch(e){};return false},cssScope:function(){try{document.querySelector(':scope');return true}catch(e){};return false}},addTest=function(prop,func){tests[prop]=func};prefixed.camelCase=function(str){return str.replace(/^-ms-/,'ms-').replace(/-([a-z])/g,function(m,s){return s.toUpperCase()})};prefixed.hyphenate=function(str){return str.replace(/^(ms|webkit)(?=[A-Z])|[A-Z]/g,'-$&').toLowerCase()};return{is:is,input:input,prefixed:prefixed,supports:supports,hasEvent:hasEvent,addTest:addTest}})()
function computedStyle(element,property){if(element){if(window.getComputedStyle)return window.getComputedStyle(element,null).getPropertyValue(property);if(element.currentStyle)return element.currentStyle[Browser.prefixed.camelCase(property)]};return false}
function preload(label,url,overwrite){if(!/^(https?|data):/.test(url))url=jsConfig.get('ImgURL')+url;if(!(label in preloadImages)||overwrite){preloadImages[label]=new Image();preloadImages[label].src=url};return url}
function getPreloadImage(label){if(label in preloadImages)return preloadImages[label].src;return preload('empty','g/px.gif')}
function loadImage(src,callback){var loaded=false,img=new Image(),doCallback=function(result){loaded=!!result;img.onload=img.onerror=img.onabort=null;callback(result);img=null},loadCheck=function(){if(!loaded&&(img.width||img.complete))doCallback(img);return loaded};img.onload=function(){if(!loadCheck())doCallback(false)};img.onerror=img.onabort=function(){doCallback(false)};if(Browser.is.opera)setTimeout(loadCheck,100);return img.src=src}
function imgHoverOn(){if(this.__hoverStateImg)this.src=getPreloadImage(this.__hoverStateImg)}
function imgHoverOff(){if(this.__normalStateImg)this.src=getPreloadImage(this.__normalStateImg)}
function imageHoverSwap(img,normalStateImg,hoverStateImg){img.src=getPreloadImage(normalStateImg);if(!img.__hoverStateImg){addEvent(img,'mouseover',imgHoverOn);addEvent(img,'mouseout',imgHoverOff)};img.__hoverStateImg=hoverStateImg;img.__normalStateImg=normalStateImg}
function getById(id){return document.getElementById(id)};var globalEval=(function(org,Object){try{if((1,eval)('Object')===org)return function(expr){return(1,eval)(expr)}}catch(e){};if(typeof window.execScript!=='undefined')return function(expr){return window.execScript(expr)};return function(){}})(Object,2),DomLoaded=(function(){var onload=[],done=false,timer=null,root=null,init=function(){eventHandler(addEvent);try{root=!window.frameElement&&document.documentElement}catch(e){};timer=root&&root.doScroll?setInterval(scrollCheck,50):-1},eventHandler=function(eventFunc){['DOMContentLoaded','readystatechange','load'].forEach(function(event){eventFunc(window,event,checkLoaded)})},checkLoaded=function(e){if(!(done=done||(e&&/load/i.test(e.type))||/loaded|complete/.test(document.readyState)))return false;if(timer){eventHandler(removeEvent);clearInterval(timer);timer=null};setTimeout(execute,10);return true},scrollCheck=function(){try{root.doScroll('left');checkLoaded({type:'load'})}catch(e){}},execute=function(){var func=onload.shift();if(typeof func=='function')func();if(onload.length)setTimeout(execute,10)};return{load:function(func,skipWhenLoaded){if(checkLoaded()){if(skipWhenLoaded)return}else if(!timer)init();onload.push(func)}}})(),addEvent=(function(){var eventCache={},UID=2,hasTouchEvents='ontouchstart'in window,hasPointerEvents=window.navigator.msPointerEnabled,touchEventMap=hasTouchEvents?{touchstart:'touchstart',touchmove:'touchmove',touchend:'touchend touchcancel'}:hasPointerEvents?{touchstart:'MSPointerDown',touchmove:'MSPointerMove',touchend:'MSPointerUp MSPointerCancel'}:{},mouseToTouchMap={mousedown:'touchstart',mousemove:'touchmove',mouseup:'touchend'},mouseWheelMap={mousewheel:Browser.hasEvent('wheel')?'wheel':'mousewheel'},ieMouseEventMap={mouseenter:'mouseover',mouseleave:'mouseout'},touchHandler=function(element,handler){if(hasPointerEvents)return function(e){if(e.pointerType=='touch')return handler.call(element,e)};return function(ev){var touch=/touch(end|cancel)/.test(ev.type)?ev.changedTouches:ev.targetTouches,e=touch&&touch[0];if(e){e.type=ev.type;e.originalEvent=ev;e.preventDefault=preventDefault;e.stopPropagation=stopPropagation;return handler.call(element,e)}}},mouseWheelHandler=function(element,handler){return function(e){if(e.type=='mousewheel')e.deltaY=(e.wheelDelta||0)/-40;return handler.call(element,e)}},checkMouseLeaveOrEnter=function(element,handler){return function(e){var target=e.relatedTarget||(e.type=='mouseover'?e.fromElement:e.toElement);if(target&&element.contains(target))return;return handler.call(element,e)}},handleEventIE=function(element,handler){var windowDimension='';return function(e){if(e.type=='resize'){var dE=document.documentElement,dim=dE.clientWidth+'x'+dE.clientHeight;if(windowDimension==dim)return true;windowDimension=dim};e.target=e.srcElement;e.currentTarget=element;e.preventDefault=preventDefault;e.stopPropagation=stopPropagation;if(e.type=='mousewheel')e.deltaY=(e.wheelDelta||0)/-40;return handler.call(element,e)}},getUniqueElementID=function(element){if(element===window)return 0;if(element==document)return 1;if(!('uniqueID'in element))element.uniqueID=UID++;return element.uniqueID},preventDefault=function(){this.originalEvent?this.originalEvent.preventDefault():this.returnValue=false},stopPropagation=function(){this.originalEvent?this.originalEvent.stopPropagation():this.cancelBubble=true},registerEventInCache=function(element,type,handler,responderFunc){if(getEntryFromCache(element,type,handler))return null;var uid=getUniqueElementID(element),entry={handler:handler,responder:responderFunc&&responderFunc(element,handler)};if(!eventCache[uid])eventCache[uid]={};if(!eventCache[uid][type])eventCache[uid][type]=[];eventCache[uid][type].push(entry);return entry},getEntriesForType=function(element,type){if(!eventCache)return null;var uid=getUniqueElementID(element);return eventCache[uid]&&eventCache[uid][type]},getEntryFromCache=function(element,type,handler){var entries=getEntriesForType(element,type),i=entries&&entries.length;while(i--)if(entries[i].handler===handler)return entries[i];return null},removeEntryFromCache=function(element,type,handler){var entry=getEntryFromCache(element,type,handler);if(!entry)return null;var entries=getEntriesForType(element,type);entries.splice(entries.indexOf(entry),1);return entry};window.addCustomEvent=registerEventInCache;window.removeCustomEvent=removeEntryFromCache;window.triggerCustomEvent=function(element,type){var events=getEntriesForType(element,type),args=Array.slice(arguments,2);events&&events.forEach(function(event){event.handler.apply(element,args)})};if(window.addEventListener){window.removeEvent=function(element,type,handler){var altType,removeAltListener=function(altType){var entry=removeEntryFromCache(element,altType,handler);if(entry)element.removeEventListener(altType,entry.responder,false);return};if(/^touch/.test(type)){if((altType=touchEventMap[type]))altType.split(' ').forEach(removeAltListener)}else if((altType=(mouseWheelMap[type]||ieMouseEventMap[type]))){removeAltListener(altType)}else{element.removeEventListener(type,handler,false);if((altType=mouseToTouchMap[type]))removeEvent(element,altType,handler)}};return function(element,type,handler,addTouchEvents){var altType,responderFunc,addAltListener=function(altType){var entry=registerEventInCache(element,altType,handler,responderFunc);if(entry)element.addEventListener(altType,entry.responder,false)};if(/^touch/.test(type)){if((altType=touchEventMap[type])){responderFunc=touchHandler;altType.split(' ').forEach(addAltListener)}}else if((altType=mouseWheelMap[type])){responderFunc=mouseWheelHandler;addAltListener(altType)}else if((altType=ieMouseEventMap[type])&&!Browser.hasEvent(type)){responderFunc=checkMouseLeaveOrEnter;addAltListener(altType)}else{if(!element)return false;element.addEventListener(type,handler,false);if(addTouchEvents&&(altType=mouseToTouchMap[type]))addEvent(element,altType,handler)};return handler}};if(window.attachEvent){window.removeEvent=function(element,type,handler){var entry=removeEntryFromCache(element,type,handler);if(entry)element.detachEvent('on'+type,entry.responder)};return function(element,type,handler){var entry=registerEventInCache(element,type,handler,handleEventIE);if(entry)element.attachEvent('on'+type,entry.responder);return handler}};return window.removeEvent=function(){}})()
function cancelEvent(e){if((e=e||window.event))if(e.preventDefault){e.preventDefault()}else{if(e.keyCode)e.keyCode=0;e.returnValue=0;e.cancelBubble=true};return false}
function stopPropagation(e){if((e=e||window.event))e.stopPropagation?e.stopPropagation():e.cancelBubble=true}
function getHead(){return document.head||document.getElementsByTagName('head')[0]}
function hasAttribute(el,attr){if(el.hasAttribute)return el.hasAttribute(attr);if(attr=='class'){attr='className'}else if(attr=='for')attr='htmlFor';var node=el.getAttributeNode(attr);return node&&node.specified}
function getQueryString(form,nojoin){var elements=form.elements,element,i=0,j,k,o,qName,qValues,qParts=[];while((element=elements[i++])){if(!element.name||element.disabled||hasClass(element,'placeholder'))continue;qValues=[];switch(element.nodeName){case'INPUT':case'TEXTAREA':if((element.type=='checkbox'||element.type=='radio')&&!element.checked)break;qValues.push(element.value);break;case'SELECT':k=element.options,o=[];if(element.multiple){for(j=0;j<k.length;j++)if(k[j].selected)o.push(k[j])}else if(k[element.selectedIndex])o.push(k[element.selectedIndex]);for(j=0;j<o.length;j++)qValues.push(hasAttribute(o[j],'value')?o[j].value:o[j].text);break};if((k=qValues.length)){qName=encodeURIComponent(element.name);for(j=0;j<k;j++)qParts.push(qName+'='+encodeURIComponent(qValues[j]))}};return nojoin?qParts:qParts.join('&')}
function getSelectedValue(element){if(element.nodeName){if(element.nodeName=='SELECT'){return element.options[element.selectedIndex].value}else return element.value}else if(element.length)for(var i=0;i<element.length;i++)if(element[i].checked)return element[i].value;return null}
function HTMLBuilder(){if(!(this instanceof HTMLBuilder))return HTMLBuilder.instance||(HTMLBuilder.instance=new HTMLBuilder());this.idList={};this.eventHandlers=Set('onblur','onchange','onclick','ondblclick','onfocus','onkeydown','onkeypress','onkeyup','onload','onmousedown','onmousemove','onmouseout','onmouseover','onmouseup','onreset','onselect','onsubmit','onunload');this.oldIECompat=Browser.is.ie};Object.extend(HTMLBuilder.prototype,{built:function(object){this.idList={};return this.builtRecursive(object)},builtRecursive:function(object){var element=null,attribute,value,children,childNode,i;if(object.nodeType)return object;if(object.o)return object.o;if(object.n)if(object.n=='#document-fragment'){element=document.createDocumentFragment()}else if(object.n=='#text'){element=document.createTextNode(object.v||'')}else{if(this.oldIECompat&&object.a&&'name'in object.a)try{element=document.createElement('<'+object.n+' name='+object.a['name']+'>');delete object.a['name']}catch(e){this.oldIECompat=false};if(element||(element=document.createElement(object.n))){if(object.a)for(attribute in object.a){value=object.a[attribute];if(value!==null&&object.a.hasOwnProperty(attribute))if(attribute in this.eventHandlers&&typeof value!='function'){if(value)element[attribute]=new Function(value)}else if(attribute=='style'){element.style.cssText=value}else{if(attribute=='id'){this.idList[value]=element}else if(attribute=='class'){attribute='className'}else if(attribute=='for')attribute='htmlFor';element[attribute]=value}};if(object.c){children=Array.isArray(object.c)?object.c:[object.c];var isTable=object.n=='table';for(i=0;i<children.length;i++){if(!children[i])continue;if(isTable&&children[i].n&&!children[i].n.match(/^t(body|header|footer)$/)){element.appendChild(this.built({n:'tbody',c:children}));break};if((childNode=this.builtRecursive(children[i])))element.appendChild(childNode);isTable=false}};if('t'in object)element.appendChild(document.createTextNode(object.t));if('h'in object)element.innerHTML=object.h}};return element},getIdList:function(){return Object.extend({},this.idList)},getElementById:function(id){return this.idList[id]||null}});var Selector=(function(){var quickReg=/^(\w+)?(?:\.([\w-]+)|#([\w-]+)(?:\s+([.\w-]+))?)?$/,matchesSelector=Browser.prefixed('matchesSelector',true),contains=document.contains?function(parent,el){return parent!=el&&parent.contains(el)}:function(parent,el){while((el=el.parentNode))if(el==parent)return true;return false},nodeFilter=function(els,nodeName){var res=[],i=0,el;while((el=els[i++]))if(!nodeName||el.nodeName==nodeName)res.push(el);return res},slice=[].slice;try{slice.call(document.childNodes)}catch(e){slice={call:nodeFilter}};window.matchesSelector=function(el,selector){if(!(el&&el.nodeType==1))return false;if(matchesSelector)return el[matchesSelector](selector);if((match=quickReg.exec(selector)))return(!match[1]||el.nodeName==match[1].toUpperCase())&&(!match[2]||hasClass(el,match[2]))&&(!match[3]||el.getAttribute('id')==match[3]);return Selector(selector,el.parentNode).contains(el)};return function(selector,context){var match,nodeName,nodeType,res=[],m,oid,nid;context=context||document;nodeType=context.nodeType;if((match=quickReg.exec(selector))){nodeName=match[1]&&match[1].toUpperCase();if((m=match[2])){if(context.getElementsByClassName){res=context.getElementsByClassName(m);return nodeName?nodeFilter(res,nodeName):slice.call(res)}}else if((m=match[3])){if((res=document.getElementById(m)))if(nodeType==9||contains(context,res))if(!nodeName||res.nodeName==nodeName)return match[4]?Selector(match[4],res):[res];return[]}else if(nodeName){if(nodeName=='BODY'&&nodeType==9)return[document.body];return slice.call(context.getElementsByTagName(nodeName))}};oid=nid='dumdumdum';if(nodeType==1&&selector.contains(':scope')&&!Browser.supports('cssScope')){if((oid=context.getAttribute('id'))){nid=oid.replace(/[^\w-]/,'\\$&')}else context.setAttribute('id',nid);selector=selector.replace(/:scope/g,'#'+nid)};try{res=context.querySelectorAll(selector)}catch(e){if(jsConfig.get('debug'))alert('Unsupported selector: '+selector)}finally{if(!oid)context.removeAttribute('id')};return slice.call(res)}})()
function TreeWalker(node){var currentNode=node,matchNonElementNodes=false,filter=function(node,selector){if(!node)return null;if(selector||!matchNonElementNodes)return node.nodeType==1&&(!selector||matchesSelector(node,selector))?node:null;return(node.nodeType==3&&node.data.isWhiteSpace())||node.nodeType==8?null:node},walk=function(selector,prop,nextprop){var node=currentNode;while(node){if(filter((node=node[prop]),selector))return currentNode=node;prop=nextprop||prop};return null};return{parentNode:function(selector){return walk(selector,'parentNode')},firstChild:function(selector){return walk(selector,'firstChild','nextSibling')},lastChild:function(selector){return walk(selector,'lastChild','previousSibling')},nextSibling:function(selector){return walk(selector,'nextSibling')},previousSibling:function(selector){return walk(selector,'previousSibling')},getCurrentNode:function(){return currentNode},setCurrentNode:function(node){return currentNode=node},matchNonElementNodes:function(b){matchNonElementNodes=b}}}
function is_ignorable(nod){return((nod.nodeType==3&&nod.data.isWhiteSpace())||nod.nodeType==8)}
function first_child(par,nodeName){var res=null;if(par&&par.nodeType==1&&(res=par.firstChild))if((nodeName&&res.nodeName!=nodeName.toUpperCase())||is_ignorable(res))return node_after(res,nodeName);return res}
function last_child(par,nodeName){var res=null;if(par&&par.nodeType==1&&(res=par.lastChild))if((nodeName&&res.nodeName!=nodeName.toUpperCase())||is_ignorable(res))return node_before(res,nodeName);return res}
function node_after(sib,nodeName){if(sib)if(nodeName){nodeName=nodeName.toUpperCase();while((sib=sib.nextSibling)&&sib.nodeName!=nodeName);}else while((sib=sib.nextSibling)&&is_ignorable(sib));return sib}
function node_before(sib,nodeName){if(sib)if(nodeName){nodeName=nodeName.toUpperCase();while((sib=sib.previousSibling)&&sib.nodeName!=nodeName);}else while((sib=sib.previousSibling)&&is_ignorable(sib));return sib}
function classList(element){var originalClassName='',list=[],applyClassList=function(){element.className=originalClassName=list.join(' ');publicMethods.length=list.length},contains=function(className){if(element.className!=originalClassName){originalClassName=element.className;list=originalClassName?originalClassName.trim().split(/\s+/):[];publicMethods.length=list.length};return list.contains(className)},publicMethods={add:function(className){if(!contains(className)){list.push(className);applyClassList()}},remove:function(className){if(contains(className)){delete list[list.indexOf(className)];applyClassList()}},toggle:function(className){if(contains(className)){publicMethods.remove(className)}else publicMethods.add(className)},contains:contains,length:0};return publicMethods}
function addClass(element,className){if(!('classList'in element))element.classList=classList(element);element.classList.add(className)}
function removeClass(element,className){if(!('classList'in element))element.classList=classList(element);element.classList.remove(className)}
function toggleClass(element,className,state){if(!('classList'in element))element.classList=classList(element);switch(state){case true:element.classList.add(className);break;case false:element.classList.remove(className);break;default:element.classList.toggle(className);break}}
function hasClass(element,className){if(!('classList'in element))element.classList=classList(element);return element.classList.contains(className)}
function getOffsetTop(el,offsetParent){var offsetTop=0;do{offsetTop+=el.offsetTop;if(el.nodeName=='TABLE'&&Browser.is.webkit)offsetTop+=parseInt(computedStyle(el,'border-top-width'))}while((el=el.offsetParent)&&el!=offsetParent);return offsetTop}
function getOffsetLeft(el,offsetParent){var offsetLeft=0;do{offsetLeft+=el.offsetLeft;if(el.nodeName=='TABLE'&&Browser.is.webkit)offsetLeft+=parseInt(computedStyle(el,'border-left-width'))}while((el=el.offsetParent)&&el!=offsetParent);return offsetLeft}
function setRelativePosition(element,offsetElement,offsetTop,offsetLeft,minTop,minLeft){var offsetParent=null;try{offsetParent=element.offsetParent}catch(e){};var top=getOffsetTop(offsetElement,offsetParent)+offsetTop;if(minTop!==undefined&&top+(offsetParent&&getOffsetTop(offsetParent))<minTop)top=minTop;var left=getOffsetLeft(offsetElement,offsetParent)+offsetLeft;if(minLeft!==undefined&&left+(offsetParent&&getOffsetLeft(offsetParent))<minLeft)left=minLeft;element.style.top=top+'px';element.style.left=left+'px'}
function getPageDimensions(){var dE=document.documentElement;return{scrollWidth:Math.max(dE.scrollWidth,dE.clientWidth),scrollHeight:Math.max(dE.scrollHeight,dE.clientHeight),innerWidth:window.innerWidth||(dE.offsetWidth-2*(dE.clientLeft||0)),innerHeight:window.innerHeight||(dE.offsetHeight-2*(dE.clientTop||0)),availWidth:dE.clientWidth,availHeight:dE.clientHeight,offsetX:window.pageXOffset||dE.scrollLeft,offsetY:window.pageYOffset||dE.scrollTop}};var BehaviourManager=(function(){var behaviours={};return{register:function(selector,func){if(selector in behaviours){behaviours[selector]=behaviours[selector].append(func)}else behaviours[selector]=func},exec:function(root){var selector,func;for(selector in behaviours)Selector(selector,root).forEach(behaviours[selector])}}})(),LinkBehaviour=(function(){var tests=[],externalLinks=jsConfig.get('externalLinks')!==false,logOutgoing=jsConfig.get('logOutgoing');if(externalLinks||logOutgoing)tests.push({regexp:/(^|\s)external(\s|$)/,func:function(a,m){if(externalLinks)a.target='_blank';if(logOutgoing&&!this.sameDomainCheck.test(a.href)&&!a.onclick)a.onclick=function(){if(window._ga)_ga('send','pageview','/outgoing/'+this.href.replace(/^[a-z]+:\/\/(www\.)?/,''));return true}},sameDomainCheck:new RegExp('^https?://(\\w+\\.)?'+RegExp.escape(document.domain)+'(/|$)')});tests.push({regexp:/mail/,func:function(a){var user=a.getAttribute('data-to'),domain=a.getAttribute('data-domain'),query=a.getAttribute('data-query');if(user&&domain)a.href='mailto:'+user+String.fromCharCode(64)+domain+(query?'?'+query:'')}});return{register:function(regexp,func){tests.push({regexp:regexp,func:func})},init:function(a){var rel=a.getAttribute('rel');tests.forEach(function(test){var m=test.regexp.exec(rel);if(m)test.func(a,m)})}}})();BehaviourManager.register('a[rel]',LinkBehaviour.init);var ToggleBehaviour=(function(){var toggleFunc=function(){var toggleable=TreeWalker(this).parentNode('.toggleable');if(toggleable)toggleClass(toggleable,'closed')};return{init:function(element){addEvent(element,'click',toggleFunc)},enable:function(elements){elements.forEach(function(el){addClass(el,'toggleable')})},disable:function(elements){elements.forEach(function(el){removeClass(el,'toggleable')})}}})();BehaviourManager.register('.toggleBtn',ToggleBehaviour.init)
function HTML5FormSupport(form){if(form.getAttribute('data-checkforchanges'))formChangedCheck(form);if(Browser.input.placeholder&&Browser.input.autofocus)return;var elements=form.elements,j=elements.length,el,focusElement,placeHolder,simulatePlaceholder=false;while(j--){el=elements[j];if(!Browser.input.placeholder&&(placeHolder=el.getAttribute('placeholder')))switch(el.type){case'password':var textInput=document.createElement('input');textInput.className=el.className+' placeholder';textInput.size=el.size;textInput.value=placeHolder;textInput.onfocus=placeholderFocusPassword;el.parentNode.insertBefore(textInput,el);case'text':case'textarea':el.onfocus=placeholderFocus;el.onblur=placeholderBlur;el.onblur();simulatePlaceholder=true};if(!Browser.input.autofocus&&hasAttribute(el,'autofocus'))focusElement=el};if(simulatePlaceholder)placeholderSubmitFix(form);if(focusElement)focusElement.focus()};BehaviourManager.register('form',HTML5FormSupport)
function placeholderFocusPassword(){this.style.display='none';var el=this.nextSibling;el.style.display='';setTimeout(function(){el.focus()},0)}
function placeholderFocus(){if(hasClass(this,'placeholder')){this.value='';removeClass(this,'placeholder')}else this.select()}
function placeholderBlur(){if(!this.value.length)if(this.type=='password'){this.style.display='none';this.previousSibling.style.display=''}else{this.value=this.getAttribute('placeholder');addClass(this,'placeholder')}}
function placeholderSubmitFix(element){var removePlaceholders=function(){var el,i=0;while((el=this.elements[i++]))if(/^text/.test(el.type)&&hasClass(el,'placeholder'))el.onfocus();return true},oldFunction=element.onsubmit;if(oldFunction){element.onsubmit=function(){return removePlaceholders.call(this)&&oldFunction.call(this)}}else element.onsubmit=removePlaceholders}
function checkKeyword(input){return input.value!=''&&!hasClass(input,'placeholder')}
function formChangedCheck(form){var submitted=false;addEvent(form,'submit',function(){submitted=true});addEvent(window,'beforeunload',function(e){if(submitted||!formChanged(form))return;return(e.returnValue='Je hebt je wijzigingen nog niet opgeslagen.')})}
function formChanged(form){var elements=form.elements,element,i=0,l,option;while((element=elements[i++])){if(!element.name||element.disabled||hasClass(element,'placeholder'))continue;switch(element.nodeName){case'INPUT':case'TEXTAREA':if(element.type=='checkbox'||element.type=='radio'){if(element.checked!=element.defaultChecked)return true}else if(element.value!=element.defaultValue)return true;break;case'SELECT':l=element.options.length;while(l--){option=element.options[l];if(option.selected!=option.defaultSelected)if(l>0||element.multiple||option.defaultSelected)return true};break}};return false}
function loadCSS(fileName,media,sync){if(!loadCSS.loaded)loadCSS.loaded={};var chkFile=fileName.replace(/\?\d+$/,'');if(!(chkFile in loadCSS.loaded)){loadCSS.loaded[chkFile]=true;var head=getHead(),links=head.getElementsByTagName('link'),i=0,link,style,usemin=!jsConfig.get('debug');while((link=links[i++]))if(link.href){if(link.href.contains('/'+chkFile))return false;if(usemin&&link.href.contains('/main.css'))usemin=link.href.contains('/min/')};if(sync){style=Ajax.sendRequest(getXmlHttpUrl('frontpage','stylesheet')+'&file='+encodeURIComponent(fileName));return style&&createStylesheet(fileName,style,media)};if(!/^(https?:)?\/\//.test(fileName))fileName=jsConfig.get('ImgURL')+'x/'+(usemin?'min/':'')+fileName;style=document.createElement('link');style.type='text/css';style.rel='stylesheet';style.media=media||'screen,handheld,projection';style.href=fileName.fixProtocol();head.appendChild(style);return style};return false}
function createStylesheet(label,style,media,overwrite){var el,txt;if(!createStylesheet.elements)createStylesheet.elements={};if((el=createStylesheet.elements[label])){if(!overwrite)return el}else{el=document.createElement('style');el.type='text/css';el.media=media||'screen,handheld,projection';getHead().appendChild(el);createStylesheet.elements[label]=el};if(el.styleSheet){el.styleSheet.cssText=style}else{txt=document.createTextNode(style);if(el.firstChild){el.replaceChild(txt,el.firstChild)}else el.appendChild(txt)};return el}
function loadPrintStyle(cssFile){if('onbeforeprint'in window){window.onbeforeprint=function(){loadCSS(cssFile,'print',true)}}else loadCSS(cssFile,'print')}
function loadJS(fileName,callBack){if(!loadJS.loaded)loadJS.loaded={};if(fileName in loadJS.loaded)if(callBack)callBack('cached');loadJS.loaded[fileName.replace(/\?\d+$/,'')]=true;var js=document.getElementsByTagName('script'),i=js.length,usemin=!jsConfig.get('debug');while(i--){if(!js[i].src)continue;if(js[i].src.contains(fileName))return;if(usemin&&js[i].src.contains('/general.js'))usemin=js[i].src.contains('/min/')};if(!/^(https?:)?\/\//.test(fileName))fileName=jsConfig.get('ImgURL')+'x/'+(usemin?'min/':'scripts/')+fileName;var script=document.createElement('script');script.async=true;script.src=fileName.fixProtocol();if(callBack){script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){if(!isAbort)callBack('loaded');script.onload=script.onreadystatechange=script.onerror=null;script=undefined}};script.onerror=function(){var nonMinified=script.src.replace(/([.\/])min\1/,'$1');if(nonMinified!=script.src){loadJS(nonMinified,callBack)}else callBack('error');script.onload=script.onreadystatechange=script.onerror=null;script=undefined}};js[0].parentNode.insertBefore(script,js[0])}
function getCookie(name){var cookie=getCookieContent();return name in cookie?cookie[name]:null}
function getCookieContent(){var cookie={};if(document.cookie){var items=document.cookie.split('; '),i=items.length,crumb;while(i--){crumb=items[i].split('=');cookie[crumb[0]]=crumb[1]!=undefined?unescape(crumb[1]):null}};return cookie}
function setCookie(sName,sValue,sPath,sExpires){if(sExpires instanceof Date)sExpires=sExpires.toGMTString();document.cookie=sName+'='+escape(sValue)+'; expires='+(sExpires||'Fri, 31 Dec 2099 23:59:59 GMT')+'; path='+(sPath||'/')+'; domain=.'+document.domain}
function deleteCookie(sName,sPath){setCookie(sName,'',sPath,'Thu, 01 Jan 1970 00:00:01 GMT')}
function getSessionId(){return getCookie(jsConfig.get('sidName','TnetID'))}
function getCountryCode(){var el=getById('countryCodePopupButton');return(el&&el.getAttribute('data-country'))||'NL'}
function getXmlHttpUrl(application,type,action,queryStringExtras){var xmlHttpUrl=window.xmlHttpUrl||location.protocol+'//'+location.host+'/xmlhttp/xmlHttp.php';return xmlHttpUrl+'?application='+application+(type?'&type='+type:'')+(action?'&action='+action:'')+(queryStringExtras?'&'+queryStringExtras:'')};if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){var types=['Msxml2.XMLHTTP','Microsoft.XMLHTTP'];for(var i=0;i<types.length;i++)try{return new ActiveXObject(types[i])}catch(e){};return undefined};if(!window.JSON)window.JSON={parse:function(data){if(!data.isWhiteSpace())try{return/^[\],:{}\s]*$/.test(data.replace(/\\["\\\/bfnrtu]/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))&&eval('('+data+')')}catch(e){};throw new SyntaxError('JSON.parse')}};if(!window.requestAnimationFrame)window.requestAnimationFrame=(function(w){var lastTime=0,cancelFuncName='cancelAnimationFrame',prefixedFuncName=Browser.prefixed('requestAnimationFrame',w),prefixedCancelFuncName=prefixedFuncName&&(Browser.prefixed(cancelFuncName,w)||Browser.prefixed('cancelRequestAnimationFrame',w));w[cancelFuncName]=w[prefixedCancelFuncName||'clearTimeout'];return prefixedCancelFuncName?w[prefixedFuncName]:function(callback,element){var currTime=Date.now(),timeToCall=Math.max(0,16-(currTime-lastTime));lastTime=currTime+timeToCall;return setTimeout(function(){callback(currTime+timeToCall)},timeToCall)}})(window);var Ajax=(function(){var defaultOptions={type:'text',method:'GET',async:false,contentType:'application/x-www-form-urlencoded',encoding:'UTF-8',nocache:false,handler:null,appendSid:false,appendCountry:false},queue=[],busy=false,handlers={json:function(requestObject){var data=requestObject.responseText;try{return JSON.parse(data)}catch(e){};if(jsConfig.get('debug')&&data!='')alert('Error parsing JSON respons: '+data);return false}},sendRequest=function(url,options,data){options=Object.extend(options||{},defaultOptions);if(options.async&&busy){queue.push({url:url,options:options,data:data});return true};var requestObject=new XMLHttpRequest();if(requestObject){options.type=options.type.toLowerCase();options.method=options.method.toUpperCase();if(!options.headers)options.headers={};url+=(url.contains('?')?'&':'?')+'output='+options.type;if(options.method=='POST'){if(!('Content-Type'in options.headers))options.headers['Content-Type']=options.contentType+(options.encoding?'; charset='+options.encoding:'');if(data==undefined)data='';if(options.appendSid){var sessionId=getSessionId();if(sessionId){data+=(data==''?'':'&')+'sid='+encodeURIComponent(sessionId)}else if(options.strictSidCheck)throw'noSessionException'}}else if(data){url+='&'+data;data=null};if(options.appendCountry)url+='&country='+encodeURIComponent(getCountryCode());if(options.nocache){options.headers['Cache-Control']='no-cache';url+='&nocache='+Date.now()};try{requestObject.open(options.method,url,!!options.async)}catch(e){if(url.contains('adType'))alert('Het ophalen van data voor een nieuwe advertentie is mislukt; zorg ervoor dat je browser geen zaken blokkeert (bijvoorbeeld door een adblocker).');if(options.async)checkQueue();return false};for(var header in options.headers)if(options.headers.hasOwnProperty(header))requestObject.setRequestHeader(header,options.headers[header]);requestObject.send(data);var result=defaultHandler(requestObject,options);if(options.async&&!result){busy=true;requestObject.onreadystatechange=defaultHandler.bind(null,requestObject,options);return true};return result};return false},defaultHandler=function(requestObject,options){var result=null,status;if(requestObject.readyState==4){if(!(status=requestObject.status)||(status>=200&&status<300)||status==304||status==403||status==1223){if(options.type in handlers){result=handlers[options.type](requestObject)}else result=requestObject.responseText;if(options.handler)result=options.handler(result)}else if(options.errorHandler)result=options.errorHandler(status);if(options.async){checkQueue();return true}};return result},checkQueue=function(){busy=false;var request=queue.shift();if(request)setTimeout(sendRequest.bind(null,request.url,request.options,request.data),10)};return{sendRequest:sendRequest,addHandler:function(type,func){handlers[type]=func},stripScripts:function(html){return html.replace(/<script[^>]*>([\S\s]*?)<\/script>/gi,'')},evalScripts:function(html){return html.replace(/<script[^>]*>([\S\s]*?)<\/script>/gi,function(a,b){if(!b.isWhiteSpace())globalEval(b);return''})}}})()
function checkJsonResponse(response){if(response!==false){if('data'in response)return response.data;if('error'in response){if('url'in response){if(confirm(response.error))window.location=response.url}else alert(response.error);return false};if(jsConfig.get('debug'))alert('No valid data received in JSON response')};return false}
function HashChecker(){if(HashChecker.instance)return HashChecker.instance;if(!(this instanceof HashChecker))return HashChecker.instance=new HashChecker()
function getHash(){return window.location.hash.substr(1)}
function checkHash(){var hash=getHash();if(hash!=currentHash){currentHash=hash;var newHashComponents=parseHash(hash),component,i,func;for(component in callBacks){i=0;while((func=callBacks[component][i++]))if(component=='__default'){func(currentHash)}else if(newHashComponents[component]!=hashComponents[component])func(component in newHashComponents?newHashComponents[component]:'')};hashComponents=newHashComponents}}
function parseHash(hash){var hashComponents={__default:''},components=hash.split(';'),match;for(var i=0;i<components.length;i++)if((match=components[i].match(/^([a-z]+):/i))){hashComponents[match[1]]=components[i].substr(match[0].length)}else hashComponents.__default+=components[i];return hashComponents}
function createHash(){var hash='';for(var h in hashComponents)if(hashComponents[h].length){if(hash.length)hash+=';';if(h!='__default')hash+=h+':';hash+=hashComponents[h]};return hash};this.setCallback=function(func,component,callOnCurrentHash){component=component||'__default';if(!(component in callBacks))callBacks[component]=[];callBacks[component].push(func);if(callOnCurrentHash&&(component in hashComponents))func(hashComponents[component])};this.setHash=function(hash,component){hashComponents[(component||'__default')]=''+hash;currentHash=createHash();if(currentHash!=getHash())window.location.hash=currentHash};this.getHash=function(component){return component in hashComponents?hashComponents[component]:null};var currentHash=getHash(),hashComponents=parseHash(currentHash),callBacks={},hashTimer=null;if(Browser.hasEvent('hashchange',window)){window.onhashchange=checkHash}else hashTimer=setInterval(checkHash,100)}
function checkEmAll(checkbox){var el=checkbox.form.elements,i=el.length;while(i--)if(el[i].type=='checkbox'&&el[i].name!='checkem')el[i].checked=checkbox.checked}
function parseGetString(string){var component=string.indexOf('#');if(component>-1)string=string.substr(0,component);var components=string.split('&'),i=components.length,get={};while(i--){component=components[i].split('=');get[component[0]]=component.length>1?component[1]:''};return get};var ModalDialog=(function(){var dialog,dialogActive=false,closeByButtonOnly=false,init=function(){dialog=document.createElement('div');dialog.id='modalDialog';document.body.appendChild(dialog)},show=function(html,setCloseByButtonOnly){closeByButtonOnly=!!setCloseByButtonOnly;if(!dialogActive){dialogActive=true;if(!dialog)init();addEvent(document,'keydown',keyHandler);addEvent(document,'click',hide)};clearContent();if(typeof html=='string'){dialog.innerHTML=Ajax.stripScripts(html);Ajax.evalScripts(html)}else dialog.appendChild(html);addClass(document.documentElement,'showModalDialog')},hide=function(e){if(!dialogActive)return;var target=e&&(e.target||e.srcElement);if(!target||(target.id=='closeImage'||(!closeByButtonOnly&&target.id=='modalDialog'))){clearContent();removeClass(document.documentElement,'showModalDialog');removeEvent(document,'keydown',keyHandler);removeEvent(document,'click',hide);dialogActive=false};if(e)e.stopPropagation()},keyHandler=function(e){if(e.keyCode==27&&!closeByButtonOnly)hide()},clearContent=function(){var c;while((c=dialog.lastChild))dialog.removeChild(c)};return{show:show,hide:hide}})(),PopupGenerator=(function(){var popups={},popupConfig={},first=true,preventFollowLinksOnClose=false,disableHoverPopups=false,closePopup=function(id,e){var popup=popups[id];return popup&&popup.visible&&!popup.options.noCloseOnClick&&popup.closeOnClick(e)},closeAll=function(e){var hasClosed=false;for(var id in popups)if(closePopup(id,e))hasClosed=true;if(hasClosed&&preventFollowLinksOnClose)cancelEvent(e)},reposAll=function(e){for(var p in popups)if(popups[p].visible||popups[p].options.forceSetPosition)popups[p].setPosition()},addHandlers=function(id,el){if(!(id in popupConfig))return;if(!('handlers'in popupConfig[id]))return;if(popupConfig[id].useParent)el=el.parentNode;if(popupConfig[id].linkClass)addClass(el,popupConfig[id].linkClass);if('hover'in popupConfig[id].handlers){addEvent(el,'mouseover',function(){!disableHoverPopups&&PopupGenerator.get(id).showDelayed(el)});addEvent(el,'mouseout',function(){PopupGenerator.get(id).hideDelayed()})};if('click'in popupConfig[id].handlers)if(popupConfig[id].useInlineEvent){el.onclick=function(e){return!PopupGenerator.get(id).show(el,false,e||window.event)}}else addEvent(el,'click',function(e){if(PopupGenerator.get(id).show(el,false,e))e.preventDefault()})};LinkBehaviour.register(/(^|\s)popup:(\w+)(\s|$)/,function(a,m){addHandlers(m[2],a)});LinkBehaviour.register(/(^|\s)showprices:(\d+)(:[a-z_]+)?(\s|$)/,function(a,m){addHandlers('pricePopup',a)});return{get:function(id){if(id in popupConfig){if(!(id in popups)){popups[id]=new Popup(id,popupConfig[id]);if(first){addEvent(document,'click',closeAll);addEvent(window,'resize',reposAll);first=false}};return popups[id]}},register:function(id,config){popupConfig[id]=config},exists:function(id){return popupConfig[id]||null},setPreventFollowLinksOnClose:function(bool){preventFollowLinksOnClose=bool},setDisableHoverPopups:function(bool){disableHoverPopups=bool},addHandlers:addHandlers,closeAll:closeAll,closePopup:closePopup}})()
function Popup(id,options){this.id=id;this.options=options||{};this.offsetElement=null;this.autoHide=true;this.element=null;this.arrow=null;this.contentArea=null;this.initialized=false;this.visible=false;this.blockHide=false;this.timer=null;this.init();if('afterInit'in options&&typeof options.afterInit=='function')options.afterInit(this)};Object.extend(Popup.prototype,{init:function(){this.element=document.createElement('div');this.element.className='popup '+this.id+(this.options.className?' '+this.options.className:'');if('arrow'in this.options){this.arrow=document.createElement('div');if(!Array.isArray(this.options.arrow))this.arrow.className='arrow '+this.options.arrow;this.element.appendChild(this.arrow)};var closeButton=document.createElement('span');closeButton.className='fancyButton close';closeButton.title=(this.id=='trackerPopup'?'Tracker':'Popup')+' sluiten';closeButton.innerHTML='&times;';closeButton.onclick=this.close.bind(this,true);this.element.appendChild(closeButton);this.contentArea=document.createElement('div');this.contentArea.className='popupContent';this.element.appendChild(this.contentArea);document.body.appendChild(this.element);addEvent(this.element,'mouseenter',this.block.bind(this));addEvent(this.element,'mouseleave',this.unblock.bind(this))},setContent:function(newContent){var c;while((c=this.contentArea.lastChild))this.contentArea.removeChild(c);if(typeof newContent=='string'){this.contentArea.innerHTML=newContent}else this.contentArea.appendChild(newContent);this.initialized=false},setPosition:function(){if('setPosition'in this.options){this.options.setPosition(this)}else this.setAutoPosition()},setAutoPosition:function(offsetElement){var offsets,chosenArrow,preferredArrow;offsetElement=offsetElement||this.offsetElement;if('arrow'in this.options){if(Array.isArray(this.options.arrow)){preferredArrow=this.options.arrow[0];chosenArrow=this.checkRoomFor(offsetElement,this.options.arrow,preferredArrow)}else preferredArrow=chosenArrow=this.options.arrow;this.arrow.className='arrow '+chosenArrow};offsets=this.getOffsets(offsetElement,chosenArrow,preferredArrow);setRelativePosition(this.element,offsetElement,offsets[0],offsets[1])},getOffsets:function(offsetElement,arrow,preferredArrow){var offsets;if('getOffsets'in this.options){offsets=this.options.getOffsets(arrow,this)}else{offsets=[this.options.offsetTop||0,this.options.offsetLeft||0];if(arrow!=preferredArrow){if((arrow=='top'&&preferredArrow=='bottom')||(arrow=='bottom'&&preferredArrow=='top'))offsets[0]=-(offsets[0]+this.element.offsetHeight);if((arrow=='left'&&preferredArrow=='right')||(arrow=='right'&&preferredArrow=='left'))offsets[1]=-(offsets[1]+this.element.offsetWidth)}};if(arrow=='top')offsets[0]+=offsetElement.offsetHeight;if(arrow=='left')offsets[1]+=offsetElement.offsetWidth;return offsets},checkRoomFor:function(offsetElement,possibleArrows,preferredArrow){var i=0,arrow,contentArea=getById('contentArea'),offsets,elementOffsetTop,elementOffsetLeft,popupTop,popupLeft;if(!contentArea)return preferredArrow;elementOffsetTop=getOffsetTop(offsetElement)-getOffsetTop(contentArea);elementOffsetLeft=getOffsetLeft(offsetElement)-getOffsetLeft(contentArea);while((arrow=possibleArrows[i++])){offsets=this.getOffsets(offsetElement,arrow,preferredArrow);popupTop=elementOffsetTop+offsets[0];if(popupTop<0)continue;if(popupTop+this.element.offsetHeight>contentArea.offsetHeight)continue;popupLeft=elementOffsetLeft+offsets[1];if(popupLeft<0)continue;if(popupLeft+this.element.offsetWidth>contentArea.offsetWidth)continue;return arrow};return preferredArrow},showDelayed:function(offsetElement){if(this.visible){this.show(offsetElement,true)}else{clearTimeout(this.timer);this.timer=setTimeout(this.show.bind(this,offsetElement,true),this.options.showDelay||300)}},show:function(offsetElement,autoHide,e){if('beforeShow'in this.options)this.options.beforeShow(this,offsetElement);clearTimeout(this.timer);this.timer=null;if(offsetElement!=this.offsetElement||this.options.forceUpdate){this.offsetElement=offsetElement;if('getContent'in this.options){var content=this.options.getContent(this,e);if(!content){this.close(true);return false};if(content!==true)this.setContent(content)};this.visible=false};if(!this.visible||this.options.forceReposition){this.element.style.display='block';this.visible=true;this.setPosition();if(!this.initialized){BehaviourManager.exec(this.contentArea);this.initialized=true};this.autoHide=autoHide;PopupGenerator.closeAll({target:this.element,initiator:this.id})};if('afterShow'in this.options)this.options.afterShow(this);return true},hideDelayed:function(timeout){if(this.visible){if(!this.blockHide&&!this.timer)this.timer=setTimeout(this.close.bind(this),timeout||1e3)}else if(this.timer)this.close(true)},close:function(forceClose,e){if(!this.blockHide||forceClose){clearTimeout(this.timer);this.timer=null;this.element.style.cssText='';this.visible=false;if('onClose'in this.options)this.options.onClose(this)}},closeOnClick:function(e){var target=e&&e.target;while(target){if(target==this.element||target==this.offsetElement)return false;target=target.parentNode};this.close(true,e);return true},block:function(){clearTimeout(this.timer);this.timer=null;this.blockHide=true},unblock:function(){this.blockHide=false;if(this.autoHide)this.hideDelayed(this.options.hideDelay||3e3)},getLoadingMessage:function(message){return'<div class="loading">'+message+' <img src="'+jsConfig.get('ImgURL')+'g/if/icons/throbber.gif" alt="Loading"></div>'}});var Scrollable=(function(){var scrollBars={},c=0,get=function(el){if(el&&el.__scrollableId&&el.__scrollableId in scrollBars)return scrollBars[el.__scrollableId];return null},create=function(el,options){if(el){var scrollBar=get(el);if(scrollBar){if(scrollBar.update())return scrollBar;destroy(el)}else if(el.scrollWidth>el.clientWidth||el.scrollHeight>el.clientHeight){addClass(el,'scrollBar');return(scrollBars[(el.__scrollableId=++c)]=new Scrollbar(el,options))}};return false},destroy=function(el){var id=el.__scrollableId;if(id&&id in scrollBars){scrollBars[id].destroy();delete scrollBars[id]};removeClass(el,'scrollBar')};return{get:get,create:create,destroy:destroy}})()
function Scrollbar(el,options){this.element=el;this.scrollable=first_child(el);this.options=options||{};this.scrollerVertical=null;this.scrollerHorizontal=null;this.scrollerActive=null;this.lineHeight=20;this.curX=0;this.curY=0;this.scrollX=0;this.scrollY=0;this.scrollerX=0;this.scrollerY=0;this.startTime=0;this.startX=0;this.startY=0;this.hasMoved=false;this.animationFunc=null;this.animationTimer=null;this.animationPercentage=0;this.moveX=0;this.moveY=0;this.events={};this.transform=Browser.is.webkit&&Browser.prefixed('transform');this.transition=Browser.prefixed('transition');this.transitionTimeOut=null;this.init()};Object.extend(Scrollbar.prototype,{init:function(){this.element.style.overflow='hidden';if(computedStyle(this.element,'position')=='static')this.element.style.position='relative';this.width=this.element.clientWidth;this.height=this.element.clientHeight;this.lineHeight=this.options.lineHeight||parseInt(computedStyle(this.element,'line-height'))||20;if(!(this.scrollable&&hasClass(this.scrollable,'scrollable'))){this.scrollable=document.createElement('div');this.scrollable.className='scrollable';while(this.element.hasChildNodes())this.scrollable.appendChild(this.element.firstChild);var clearDiv=document.createElement('div');clearDiv.style.clear='both';this.scrollable.appendChild(clearDiv);this.element.appendChild(this.scrollable)};if(!this.options.novertical){this.scrollHeight=this.scrollable.scrollHeight+parseInt(computedStyle(this.element,'padding-top'))+parseInt(computedStyle(this.element,'padding-bottom'));if(this.scrollHeight>this.height){this.deltaY=this.height/this.scrollHeight;this.scrollY=this.element.scrollTop||this.scrollY;this.scrollerVertical=this.createScroller('vertical');this.scrollerVertical.style.height=Math.round(this.height*this.deltaY)+'px';this.addEventForType('mousewheel',this.element,this.mouseWheel.bind(this))}};if(!this.options.nohorizontal){this.scrollWidth=this.scrollable.scrollWidth+parseInt(computedStyle(this.element,'padding-left'))+parseInt(computedStyle(this.element,'padding-right'));if(this.scrollWidth>this.width){this.deltaX=this.width/this.scrollWidth;this.scrollX=this.element.scrollLeft||this.scrollX;this.scrollerHorizontal=this.createScroller('horizontal');this.scrollerHorizontal.style.width=Math.round(this.width*this.deltaX)+'px';this.scrollable.style.width=this.scrollable.scrollWidth+'px'}};if(this.scrollerVertical||this.scrollerHorizontal){this.addEventForType('touchstart',this.element,this.touchStart.bind(this));this.addEventForType('click',this.element,this.clickBuster.bind(this));if(this.options.fadeShowMore)addClass(this.element,'fadeShowMore');this.position()}},addEventForType:function(type,el,func){this.events[type]=[el,func];addEvent(el,type,func)},removeEventForType:function(type){if(type=='all'){for(type in this.events)this.removeEventForType(type)}else if(type in this.events){removeEvent(this.events[type][0],type,this.events[type][1]);delete this.events[type]}},createScroller:function(type){var scroller=document.createElement('span');scroller.className='scroller '+type+(this.options.lightcolor?' light':'');scroller.innerHTML='<span><\/span>';this.addEventForType('mousedown',scroller,this.mouseDown.bind(this));this.element.appendChild(scroller);return scroller},mouseWheel:function(e){e.preventDefault();switch(e.type=='mousewheel'||e.deltaMode){case 0:this.scrollY+=e.deltaY;break;case 2:this.scrollY+=e.deltaY*this.height;break;default:this.scrollY+=e.deltaY*this.lineHeight};this.transition&&this.useTransition(0.5);this.position()},mouseDown:function(e){this.curX=e.clientX;this.curY=e.clientY;this.scrollerActive=e.currentTarget;this.addEventForType('mousemove',document,this.mouseMove.bind(this));this.addEventForType('mouseup',document,this.mouseUp.bind(this));document.onselectstart=cancelEvent;e.preventDefault()},mouseMove:function(e){if(this.scrollerActive==this.scrollerHorizontal){this.scrollerX-=this.curX-(this.curX=e.clientX);this.scrollX=this.scrollerX/this.deltaX};if(this.scrollerActive==this.scrollerVertical){this.scrollerY-=this.curY-(this.curY=e.clientY);this.scrollY=this.scrollerY/this.deltaY};this.position()},mouseUp:function(){this.removeEventForType('mousemove');this.removeEventForType('mouseup');document.onselectstart=null;this.scrollerActive=null;this.snap()},touchStart:function(e){this.startTime=this.getTime(e);this.curX=this.startX=e.clientX;this.curY=this.startY=e.clientY;this.resetClickBuster();this.addEventForType('touchmove',document,this.touchMove.bind(this));this.addEventForType('touchend',document,this.touchEnd.bind(this));this.stopAnimation();(this.animationFunc=this.animationFrame.bind(this))()},touchMove:function(e){var timeStamp=this.getTime(e),difX=0,difY=0;if(!this.hasMoved){difX=Math.abs(this.startX-e.clientX);difY=Math.abs(this.startY-e.clientY)};if(timeStamp-this.startTime>300){this.startTime=timeStamp;this.startX=e.clientX;this.startY=e.clientY};if(this.scrollerHorizontal){if(difX>3&&difX>=difY)this.hasMoved=true;this.scrollX+=this.curX-(this.curX=e.clientX)};if(this.scrollerVertical){if(difY>3&&difY>=difX)this.hasMoved=true;this.scrollY+=this.curY-(this.curY=e.clientY)};this.clickBuster(e)},touchEnd:function(e){this.stopAnimation();this.removeEventForType('touchmove');this.removeEventForType('touchend');if(this.hasMoved){this.hasMoved=setTimeout(this.resetClickBuster.bind(this),500);var duration=this.getTime(e)-this.startTime;if(duration<300){this.scrollBy(this.scrollerHorizontal?500*(this.startX-e.clientX)/duration:0,this.scrollerVertical?500*(this.startY-e.clientY)/duration:0);return};this.snap()}},clickBuster:function(e){if(this.hasMoved){this.scrollable.style.pointerEvents='none';e.preventDefault()}},resetClickBuster:function(){if(this.hasMoved){clearTimeout(this.hasMoved);this.hasMoved=false;this.scrollable.style.pointerEvents=''}},position:function(){if(this.scrollerHorizontal){this.scrollX=this.validateX(this.scrollX);this.scrollerX=Math.round(this.scrollX*this.deltaX);if(this.transform){this.scrollerHorizontal.style[this.transform]='translateX('+this.scrollerX+'px)'}else{this.scrollable.style.left=-this.scrollX+'px';this.scrollerHorizontal.style.left=this.scrollerX+'px'}};if(this.scrollerVertical){this.scrollY=this.validateY(this.scrollY);this.scrollerY=Math.round(this.scrollY*this.deltaY);if(this.transform){this.scrollerVertical.style[this.transform]='translateY('+this.scrollerY+'px)'}else{this.scrollable.style.top=-this.scrollY+'px';this.scrollerVertical.style.top=this.scrollerY+'px'}};if(this.transform)this.scrollable.style[this.transform]='translate('+(-this.scrollX)+'px, '+(-this.scrollY)+'px)';if(this.options.fadeShowMore)this.fadeShowMore();if(this.options.onScroll)this.options.onScroll(this)},fadeShowMore:function(){if(this.scrollY>0){addClass(this.element,'top')}else removeClass(this.element,'top');if(this.scrollY<this.getMaxY()){addClass(this.element,'bottom')}else removeClass(this.element,'bottom')},validateX:function(x){if(x<0)return 0;var max=this.getMaxX();return x>max?max:Math.round(x)},validateY:function(y){if(y<0)return 0;var max=this.getMaxY();return y>max?max:Math.round(y)},getMaxX:function(){return this.scrollWidth-this.width},getMaxY:function(){return this.scrollHeight-this.height},useTransition:function(duration){var transitionCss=(this.transform?Browser.prefixed.hyphenate(this.transform):'all')+' '+duration+'s ease-out';this.scrollable.style[this.transition]=transitionCss;if(this.scrollerHorizontal)this.scrollerHorizontal.style[this.transition]=transitionCss;if(this.scrollerVertical)this.scrollerVertical.style[this.transition]=transitionCss;clearTimeout(this.transitionTimeOut);this.transitionTimeOut=setTimeout(this.stopAnimation.bind(this,true),duration*1e3)},easeOutQuad:function(t){return t*(2-t)},animate:function(){this.animatePercentage+=(1/60);var distancePercentage=this.easeOutQuad(this.animatePercentage);if(this.moveX)this.scrollX=this.startX+distancePercentage*this.moveX;if(this.moveY)this.scrollY=this.startY+distancePercentage*this.moveY;if(this.animatePercentage<1){this.animationFrame()}else this.snap()},stopAnimation:function(snap){cancelAnimationFrame(this.animationTimer);if(this.transition){clearTimeout(this.transitionTimeOut);this.scrollable.style[this.transition]='none';if(this.scrollerHorizontal)this.scrollerHorizontal.style[this.transition]='none';if(this.scrollerVertical)this.scrollerVertical.style[this.transition]='none';if(snap)this.snap()}},animationFrame:function(){this.position();this.animationTimer=requestAnimationFrame(this.animationFunc)},snap:function(){this.scrollTo(this.options.snapX&&this.scrollerHorizontal?Math.round(this.scrollX/this.options.snapX)*this.options.snapX:null,this.options.snapY&&this.scrollerVertical?Math.round(this.scrollY/this.options.snapY)*this.options.snapY:null)},scrollTo:function(x,y){this.startX=this.scrollX;this.moveX=x!==null&&this.scrollerHorizontal?this.validateX(x)-this.startX:0;this.startY=this.scrollY;this.moveY=y!==null&&this.scrollerVertical?this.validateY(y)-this.startY:0;if(this.moveX||this.moveY)if(this.transition){this.scrollX+=this.moveX;this.scrollY+=this.moveY;this.useTransition(1);this.position()}else{this.animatePercentage=0;this.stopAnimation();(this.animationFunc=this.animate.bind(this))()}},scrollBy:function(x,y){this.scrollTo(this.scrollX+x,this.scrollY+y)},getTime:function(e){var timeStamp=e.timeStamp||Date.now();return timeStamp instanceof Date?timeStamp.getTime():timeStamp},update:function(){this.destroy(true);this.init();return this.scrollerVertical||this.scrollerHorizontal},destroy:function(forUpdate){this.stopAnimation();this.scrollerActive=null;this.removeEventForType('all');if(this.scrollerHorizontal){if(this.scrollerHorizontal.parentNode)this.scrollerHorizontal.parentNode.removeChild(this.scrollerHorizontal);this.scrollerHorizontal=null};if(this.scrollerVertical){if(this.scrollerVertical.parentNode)this.scrollerVertical.parentNode.removeChild(this.scrollerVertical);this.scrollerVertical=null};if(!forUpdate){this.element.style.overflow='';this.scrollable.style.cssText='';if(this.options.fadeShowMore)removeClass(this.element,'fadeShowMore');this.element=this.scrollable=null}}});PopupGenerator.register('pricePopup',{offsetLeft:10,offsetTop:-20,handlers:{hover:1},arrow:['left','right'],linkClass:'pwlink',getContent:function(popup){if(!popup.offsetElement._popupData){var match=/\/pricewatch(\/(unsorted))?\/(\d+)/.exec(popup.offsetElement.href);if(match)popup.offsetElement._popupData=getPricePopupData(match[3],match[2])};return popup.offsetElement._popupData}});PopupGenerator.register('subReviewPopup',{offsetLeft:-505,offsetTop:-20,handlers:{click:1},arrow:['right'],linkClass:'sublink',getContent:function(popup){var content=popup.offsetElement.parentNode.parentNode.parentNode,reviewSummary;if(content.nodeName=='DIV'){reviewSummary=Selector('.scorecardScoreWrapper',content)[0];if(reviewSummary)return'<h4>Sub-beoordeling per criterium</h4>'+reviewSummary.innerHTML}}})
function getPricePopupData(productId,section){var html=Ajax.sendRequest(getXmlHttpUrl('frontpage','productprices','top5'),{appendCountry:true},'productId='+productId+'&section='+(section||'pw')+'&currentUrl='+encodeURIComponent(location.href));return html&&Ajax.evalScripts(html)};if(!jsConfig.get('UserID'))LinkBehaviour.register(/(^|\s)login(:[a-z_]+)?(\s|$)/,function(a,m){var method=m[2]?m[2].substr(1):'';loadJS(jsConfig.get('loginJs','login.js'));loadCSS(jsConfig.get('loginCss','login.css'));if(a.onclick)a._onclick=a.onclick;a.onclick=function(){if(!jsConfig.get('UserID')&&window.LoginDialog){var link=false;if(method!='reload')if(method!='forward'&&this.href.contains('/login')){if((link=/[&?]location=([^&]+)/.exec(this.href)))link=decodeURIComponent(link[1])}else link=this;LoginDialog().show(link);return false};return a._onclick?a._onclick():true}})
function sendTrackingCommand(section,parms){var img=new Image(),baseUrl=jsConfig.get('TnetBaseURL')||jsConfig.get('BaseURL')||'';img.src=baseUrl+'ext/px?s='+section+(parms?'&'+parms:'')+'&r='+Math.round(Math.random()*1e8)}
function registerClickOut(parms,linkElement){var encode=window.encodeURIComponent||escape,cost=parms.cpc||0;if(window._ga){_ga('require','ecommerce');_ga('ecommerce:addTransaction',{id:parms.orderId,affiliation:parms.shopName,revenue:cost});_ga('ecommerce:addItem',{id:parms.orderId,name:parms.productName,sku:parms.productId,category:parms.category+(linkElement&&linkElement.isFeatured?'-Featured':''),price:cost,quantity:1});_ga('ecommerce:send')};if(window._wtq){if(_wtq.getParm){var cg=_wtq.getParm('contentGroup');if(cg&&'2'in cg)parms.destination=cg['2']};var wtParms={'2':parms.destination,'3':parms.shopName};if('cpc'in parms)wtParms['4']=''+parms.cpc;if('priceCount'in parms)wtParms['5']=''+parms.priceCount;wtParms['6']=''+parms.price;wtParms['7']=''+parms.shopRating;wtParms['8']=''+parms.deliveryTime;wtParms['9']=''+parms.deliveryCost;var position=0;if(linkElement&&!linkElement.isFeatured){var el=linkElement.parentNode;while(el){if(el.nodeName=='TR'){position=el.rowIndex;while((el=el.parentNode))if(el.nodeName=='TABLE'){if(hasClass(el,'shop-listing')){position++;if(hasClass(el,'nonmatch'))position+=100}else if(!hasClass(el,'listing'))position=0;break};break};el=el.parentNode}};wtParms['10']=''+position;wtParms['11']=parms.shopCertified;if(parms.webtrekkABTest)wtParms['12']=parms.webtrekkABTest;_wtq.push(['_trackPage',{product:parms.productName,productCategory:parms.productCategory,productQuantity:'1',productCost:''+cost,productStatus:'conf',orderId:parms.orderId,orderValue:''+cost,customEcommerceParameter:wtParms}])}}
function trackEvent(category,action,title){if(window._ga)_ga('send','event',category,action,{title:title||document.title});return true}
function trackEventWt(linkId,linkParms,isLink){if(window._wtq){var wtParms={linkId:linkId};if(linkParms)wtParms.customClickParameter=linkParms;if(isLink&&!(isLink instanceof Object&&isLink.target))wtParms.sendOnUnload=1;_wtq.push(['_trackLink',wtParms])};return true}
function toggleMoreContent(toggleLink,contentId,textShow,textHide,disableLinkText){var content=getById(contentId);if(content){toggleClass(content,'show');var classes=['showLink','hideLink'],i=+hasClass(content,'show');if(!disableLinkText)toggleLink.innerHTML=i?(textHide||'Minder informatie'):(textShow||'Meer informatie');addClass(toggleLink,classes[i]);removeClass(toggleLink,classes[1-i])}}
function switchKarmaView(el,show){var showContent=getById(show),tabbedContent=Selector('.tabbedContent',el.parentNode.parentNode);if(!tabbedContent||!showContent)return;tabbedContent.forEach(function hideTabs(tab){tab.className='tabbedContent hide'});showContent.className='tabbedContent show';el.className='tabbedContent show'}
function setPref(pref,value,sync){return Ajax.sendRequest(getXmlHttpUrl('frontpage','setpref',pref,null),{method:'POST',async:!sync,appendSid:true},'value='+encodeURIComponent(value))}
function pageIsInFrame(){try{return window.self!=window.top}catch(e){};return true}
function loadGMaps(callback){loadJS('//maps.google.com/maps/api/js?sensor=false&callback='+(callback||'buildGoogleMaps'))}
function loadUsabilla(){var loadTimer,usabillaExec=function(state){if(window.usabilla_live){usabilla_live('click');return};if(state!='error'){clearTimeout(loadTimer);loadTimer=setTimeout(usabillaExec,200)}};loadJS(jsConfig.get('ImgURL')+'x/vendor/usabilla/usabilla.js',usabillaExec)}
function enableDisabledExternalResourceTags(element){if(element.getAttribute('data-externalReferencesEnabled'))return;Selector('img, iframe',element).forEach(function(el){var src=el.getAttribute('data-src');if(src)el.src=src});element.setAttribute('data-externalReferencesEnabled','1')}