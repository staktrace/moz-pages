function onYouTubeIframeAPIReady(){Mozilla.firstRunOnYouTubeIframeAPIReady()}(function($){"use strict";var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);$(".intro .download-link").attr("data-element-location","primary CTA - download click");$(".dev-footer .download-link").attr("data-element-location","secondary CTA - bottom download click");function onYouTubeIframeAPIReady(){$("a.video-play").attr("role","button").click(function(e){e.preventDefault();var $this=$(this);var $videoContainer=$this.nextAll(".responsive-video-container");var $video=$this.nextAll(".responsive-video-container").children().first();var videoTitle=$this.siblings("h2").text();function onPlayerReady(event){if(window.site.platform!=="ios"&&window.site.platform!=="android"){event.target.playVideo()}window.dataLayer.push({event:"video-play",videoTitle:videoTitle})}function onPlayerStateChange(event){if(event.data===YT.PlayerState.ENDED){window.dataLayer.push({event:"video-complete",videoTitle:videoTitle})}}var player;Mozilla.Modal.createModal(this,$videoContainer,{title:videoTitle,onCreate:function(){player=new YT.Player($video.get(0),{height:"390",width:"640",videoId:$video.data("video-id"),events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})},onDestroy:function(){player.destroy()}})})}Mozilla.firstRunOnYouTubeIframeAPIReady=onYouTubeIframeAPIReady})(window.jQuery,window.Mozilla);if(typeof Mozilla==="undefined"){var Mozilla={}}Mozilla.Modal=function(w,$){"use strict";var open=false;var $body=$("body");var $html=$("html");var options={};var $d=$(w.document);var evtNamespace="moz-modal";var $contentParent;var $content;var closeText=typeof w.trans==="undefined"?"Close":w.trans("global-close");var _createModal=function(origin,content,opts){options=opts;var isSmallViewport=$(w).width()<760;if(open){_closeModal()}var title=options&&options.title?options.title:"";var $modal=$('<div id="modal" role="dialog" aria-labelledby="'+origin.getAttribute("id")+'" tabindex="-1">'+'  <div class="window">'+'    <div class="inner">'+"      <header>"+title+"</header>"+'      <div id="modal-close">'+'        <a href="#close-modal" class="modal-close-text"> '+closeText+"</a>"+'        <button type="button" class="button">Ã—</button>'+"      </div>"+"    </div>"+"  </div>"+"</div>");if(options&&!options.allowScroll||isSmallViewport){$html.addClass("noscroll")}else{$html.removeClass("noscroll")}$body.append($modal);$content=content;$contentParent=$content.parent();$("#modal-close").before($content);$content.addClass("overlay-contents");$("#modal-close").click(_closeModal).attr("title",closeText);$("#modal .window").click(function(e){if(e.target===this){_closeModal()}});$modal.focus();$d.on("keyup."+evtNamespace,function(e){if(e.keyCode===27&&open){_closeModal()}});$d.on("focus."+evtNamespace,"body",function(e){if(open&&!$modal[0].contains(e.target)){e.stopPropagation();$modal.focus()}});$(origin).addClass("modal-origin");open=true;if(options&&typeof options.onCreate==="function"){options.onCreate()}};var _closeModal=function(e){if(e){e.preventDefault()}$contentParent.append($content);$("#modal").remove();$html.removeClass("noscroll");$(".modal-origin").focus().removeClass("modal-origin");open=false;$d.off("."+evtNamespace);if(options&&typeof options.onDestroy==="function"){options.onDestroy()}options={}};return{createModal:function(origin,content,opts){_createModal(origin,content,opts)},closeModal:function(){_closeModal()}}}(window,window.jQuery);$(function(){"use strict";var $shares=$(".mozilla-share-cta");var hasTouch="ontouchstart"in window||navigator.msMaxTouchPoints||navigator.maxTouchPoints;var showTimeout;$shares.each(function(share){var $this=$(share);$this.css("height",$this.find("h3"))});function showLinks($share){var $heading=$share.find("h3");$share.addClass("reveal");$heading.addClass("out");clearTimeout(showTimeout);showTimeout=setTimeout(function(){$heading.css("visibility","hidden");$share.find("ul").css("visibility","visible").addClass("in")},200)}function hideLinks($share){var $links=$share.find("ul");$share.removeClass("reveal");$links.removeClass("in");clearTimeout(showTimeout);showTimeout=setTimeout(function(){$links.css("visibility","hidden");$share.find("h3").css("visibility","visible").removeClass("out")},200)}function initHover(){$shares.on("mouseenter focusin",function(){var $this=$(this);if(!$this.hasClass("reveal")){showLinks($this)}});$shares.on("mouseleave",function(){var $this=$(this);if($this.hasClass("reveal")){hideLinks($this)}});$shares.on("focusout",function(e){var $this=$(this);if($this.hasClass("reveal")&&$(e.target).parent().is("li:last-child")){hideLinks($this)}})}function initClick(){$shares.on("click",function(){var $this=$(this);if(!$this.hasClass("reveal")){showLinks($this)}})}if(hasTouch){initClick()}else{initHover()}});